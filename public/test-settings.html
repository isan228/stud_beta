<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#2563eb">
    <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∞ - stud.kg</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="/">
                    <h1>stud.kg</h1>
                </a>
            </div>
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="–ú–µ–Ω—é">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="nav-menu" id="navMenu">
                <a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/tests" class="nav-link">–¢–µ—Å—Ç—ã</a>
                <a href="/news" class="nav-link">–ù–æ–≤–æ—Å—Ç–∏</a>
                <a href="/about" class="nav-link">–û –Ω–∞—Å</a>
                <a href="/favorites" class="nav-link" id="favoritesLink" style="display: none;">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
                <a href="/profile" class="nav-link" id="profileLink" style="display: none;">–ü—Ä–æ—Ñ–∏–ª—å</a>
                <a href="/contact" class="nav-link">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a>
                <div class="nav-actions">
                    <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                        <span class="theme-icon">üåô</span>
                    </button>
                    <a href="/login" class="btn btn-primary" id="loginBtn">–í–æ–π—Ç–∏</a>
                    <a href="/register" class="btn btn-secondary" id="registerBtn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                    <button class="btn btn-logout" id="logoutBtn" style="display: none;">–í—ã—Ö–æ–¥</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <div class="container">
            <button class="btn btn-secondary" id="backToTests">‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–µ—Å—Ç–∞–º</button>
            <div class="page-header">
                <h1 id="testName"></h1>
                <p class="page-description">
                    –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º. –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤,
                    –≤–∫–ª—é—á–∏—Ç—å —Ç–∞–π–º–µ—Ä –∏ –ø–µ—Ä–µ–º–µ—à–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏.
                </p>
            </div>
            <div class="test-settings">
                <div class="settings-section">
                    <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞</h3>
                    <div class="form-group">
                        <label for="questionCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤</label>
                        <input type="number" id="questionCount" min="1" value="10">
                        <small>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è (–æ—Ç 1 –¥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –º–∞–∫—Å–∏–º—É–º–∞)</small>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="randomizeAnswers">
                            <span>–°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤</span>
                        </label>
                        <small>–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –±—É–¥—É—Ç –ø–µ—Ä–µ–º–µ—à–∞–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞</small>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>–¢–∞–π–º–µ—Ä</h3>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="useTimer">
                            <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–π–º–µ—Ä</span>
                        </label>
                        <small>–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –¥–ª—è –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</small>
                    </div>
                    <div class="form-group" id="timerGroup" style="display: none;">
                        <label for="timerMinutes">–í—Ä–µ–º—è –Ω–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ (–º–∏–Ω—É—Ç—ã)</label>
                        <input type="number" id="timerMinutes" min="1" value="30">
                        <small>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è: 1 –º–∏–Ω—É—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å</small>
                    </div>
                </div>
                <div class="settings-actions">
                    <button class="btn btn-primary btn-large" id="startTest">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2026 stud.kg. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <div id="notification" class="notification"></div>
    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            initTheme();
            await loadUser();
            setupEventListeners();
            const urlParams = new URLSearchParams(window.location.search);
            const testId = urlParams.get('id');
            const testName = urlParams.get('name') || '';
            const questionCount = parseInt(urlParams.get('questions') || '0');
            if (testId) {
                loadTestSettings(parseInt(testId), testName, questionCount);
            } else {
                window.location.href = '/tests';
            }
        });
    </script>
</body>

</html>